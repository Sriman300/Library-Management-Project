<div class="max-w-5xl mx-auto p-8 bg-gray-50/50 min-h-screen">

  <div class="flex items-center justify-between mb-8">
    <h1 class="text-4xl font-extrabold text-gray-900 tracking-tight">Student Directory</h1>
    <a href="/home" data-link class="inline-flex items-center gap-2 px-5 py-2.5 text-sm font-medium
         border border-gray-200 rounded-full
         text-gray-600 bg-white shadow-sm
         hover:bg-gray-50 hover:border-gray-300 hover:text-gray-900
         transition-all duration-200">
      <i class="fa-solid fa-arrow-left"></i> Back to Home
    </a>
  </div>

  <div class="bg-white p-6 rounded-3xl shadow-sm border border-gray-100 mb-8">
    <div class="flex flex-col gap-5">

      <div class="flex flex-col lg:flex-row lg:items-center gap-4">

        <div class="w-full lg:w-90 relative group">
          <i class="fa-solid fa-magnifying-glass absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-sm group-focus-within:text-purple-500 transition-colors"></i>
          <input id="searchInput" type="text" placeholder="Search by name / email / year..." 
                 class="w-full h-12 border-gray-200 rounded-2xl pl-11 pr-4 text-sm
                 focus:outline-none focus:ring-4 focus:ring-purple-100 focus:border-purple-400 transition-all bg-gray-50/50 focus:bg-white" />
        </div>

        <div class="flex flex-row gap-3 w-full lg:w-auto">
          <div class="relative flex-1 sm:w-20">
            <i class="fa-solid fa-arrow-down-a-z absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-sm pointer-events-none"></i>
            <select id="sortBy" class="w-full h-12 border-gray-200 rounded-2xl pl-15 pr-8 text-sm bg-gray-50/50 appearance-none focus:ring-4 focus:ring-purple-100 transition-all">
              <option value="id">Sort: ID</option>
              <option value="name">Sort: Name</option>
            </select>
          </div>

          <div class="relative w-25">
            <select id="sortDir" class="w-full h-12 border-gray-200 rounded-2xl px-3 text-sm bg-gray-50/50 appearance-none focus:ring-4 focus:ring-purple-100 transition-all text-center">
              <option value="asc">Asc ↑</option>
              <option value="desc">Desc ↓</option>
            </select>
          </div>
        </div>

        <div class="flex gap-3 w-full lg:w-auto lg:ml-auto">
          <button id="exportCsvBtn" class="h-12 px-2 rounded-2xl border border-gray-200 bg-white text-sm font-semibold text-gray-700
                 inline-flex items-center gap-2 justify-center flex-1 lg:flex-none
                 hover:bg-gray-50 hover:shadow-md transition-all">
            <i class="fa-solid fa-file-csv text-green-600 text-lg"></i>
            CSV
          </button>

          <button id="exportPdfBtn" class="h-12 px-2 rounded-2xl bg-purple-600 text-white text-sm font-semibold
                 inline-flex items-center gap-2 justify-center flex-1 lg:flex-none
                 hover:bg-purple-700 hover:shadow-lg hover:shadow-purple-200 transition-all">
            <i class="fa-solid fa-file-pdf text-lg"></i>
            PDF
          </button>
        </div>

      </div>
    </div>
  </div>

  <div class="bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden">
    <div id="loadingSpinner" class="text-center py-12">
      <div class="animate-spin rounded-full h-10 w-10 border-4 border-purple-100 border-b-purple-600 mx-auto"></div>
      <p class="mt-4 text-gray-500 font-medium">Loading Directory...</p>
    </div>

    <div id="profilesTableContainer" class="hidden">
      <div class="overflow-x-auto">
        <table class="min-w-full text-left">
          <thead>
            <tr class="bg-gray-50/80 border-b border-gray-100">
              <th class="px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider">ID</th>
              <th class="px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider">Name</th>
              <th class="px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider">Email</th>
              <th class="px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider">Phone</th>
            </tr>
          </thead>
          <tbody id="profilesTableBody" class="divide-y divide-gray-50">
            </tbody>
        </table>
      </div>

      <div id="noProfiles" class="py-16 text-center hidden">
        <div class="bg-gray-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
           <i class="fa-solid fa-user-slash text-gray-300 text-2xl"></i>
        </div>
        <p class="text-gray-500 font-medium">No students matched your search.</p>
      </div>
    </div>
  </div>

  <div id="alertContainer" class="fixed bottom-6 right-6 space-y-3 z-50"></div>
</div>